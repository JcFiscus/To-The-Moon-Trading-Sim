<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Toâ€‘Theâ€‘Moon Trading Sim â€” Modular v6 + Summary + Autoâ€‘Risk</title>
  <link rel="stylesheet" href="src/css/main.css" />
</head>
<body>
<header class="hdr">
  <div class="brand">ğŸ›°ï¸ Toâ€‘Theâ€‘Moon <small id="version"></small></div>
  <div class="stats">
    <div class="pill">Day <b id="dayNum">0</b> â€¢ <span class="kbd" id="dayTimer">â€”s</span></div>
    <div class="pill">Cash: <b id="cash">$0.00</b></div>
    <div class="pill">Debt: <b id="debt">$0.00</b></div>
    <div class="pill">Assets: <b id="assets">$0.00</b></div>
    <div class="pill">Net: <b id="net">$0.00</b></div>
    <div class="pill">Risk: <b id="riskPct">0%</b></div>
  </div>
</header>

<div class="grid">
  <section class="market-col">
    <div class="card market-panel">
      <div class="market-header row">
        <div class="mini">10â€‘second days â€¢ Afterâ€‘hours news drives tomorrow</div>
        <div class="row">
          <button id="startBtn" class="accent" aria-label="Start day">â–¶ Start Day</button>
          <button id="saveBtn" aria-label="Save game">Save</button>
          <button id="helpBtn" aria-label="Help">Help</button>
          <button id="contrastBtn" aria-label="Toggle high contrast mode" aria-pressed="false">Contrast</button>
          <button id="resetBtn" class="bad" aria-label="Hard reset game">Hard Reset</button>
        </div>
      </div>
      <table id="marketTable" aria-label="Market data table"></table>
    </div>
  </section>

  <section class="mid-col">
    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <div class="row" style="align-items:center;">
          <span>Chart: <b id="chartTitle"></b></span>
          <button id="chartToggle" aria-label="Toggle chart type">Candles</button>
          <div id="chartIntervals" class="row">
            <button class="chip-btn" data-interval="hour" aria-pressed="true">1H</button>
            <button class="chip-btn" data-interval="day" aria-pressed="false">1D</button>
            <button class="chip-btn" data-interval="week" aria-pressed="false">1W</button>
            <button class="chip-btn" data-interval="month" aria-pressed="false">1M</button>
          </div>
          <input type="range" id="chartZoomRange" min="1" max="100" value="1" aria-label="Chart zoom" />
        </div>
        <div class="row">
          <span class="tag">Prev close = dashed</span>
          <span class="tag">Boundaries = day ends</span>
        </div>
      </div>
      <div class="chart-wrap"><canvas id="chart" width="820" height="300" role="img" aria-label="Asset price chart"></canvas><div id="chartTooltip" class="chart-tooltip" role="tooltip"></div></div>
      <div class="statgrid" id="chartStats"></div>
    </div>

    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <div>News & Events â€” <b id="newsSymbol"></b></div>
        <div class="row" style="align-items:center;">
          <div class="mini">Follow the selected asset</div>
          <button id="majorOnly" class="chip-btn" aria-pressed="false" aria-label="Show major news only">Major</button>
          <button id="newsCollapse" class="chip-btn" aria-label="Collapse news panel" aria-expanded="true">Collapse</button>
        </div>
      </div>
      <div id="newsPanel">
        <div id="newsScroll"><div id="newsTable"></div></div>
      </div>
    </div>
  </section>

  <section class="right-rail">
    <div class="card" id="portfolio"></div>
    <div class="card" id="upgrades"></div>
    <div class="card">
      <div class="row" style="justify-content:space-between;">
        <div>Asset Insight</div>
        <div class="mini">Tomorrow (Î¼ Â± Ïƒ) â€¢ expected gap â€¢ recent news</div>
      </div>
      <div class="row mini" id="analystLine"></div>
      <div class="asset-news" id="assetNews"></div>
    </div>

    <div class="card" id="riskTools"></div>
  </section>
</div>

<!-- Toasts -->
<div class="toast-stack" id="toastStack"></div>

<!-- Summary Modal -->
<div class="overlay" id="overlay">
  <div class="modal" id="modal" role="dialog" aria-modal="true">
    <div id="modalContent"></div>
    <div class="actions" id="modalActions"></div>
  </div>
</div>

<script type="module" src="src/js/app.js"></script>
</body>
</html>
