<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>To The Moon â€” Trading Sim (v0.1)</title>
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="./css/upgrades.css">
</head>
<body>
  <noscript>This game needs JavaScript. Which, yes, is still a thing in 2025.</noscript>

  <header class="app-header">
    <h1>ðŸš€ To The Moon â€” Trading Sim</h1>
    <div class="hud" role="status" aria-live="polite">
      <div class="hud__row">
        <span>Day <strong id="hud-day">1</strong></span>
        <span>Cash <strong id="hud-cash">$10,000.00</strong></span>
        <span>Equity <strong id="hud-equity">$10,000.00</strong></span>
        <span>P&amp;L <strong id="hud-pl" class="pl--neutral">$0.00</strong></span>
      </div>
      <div class="hud__row hud__controls">
        <button id="btn-start" class="btn btn-primary">Start</button>
        <button id="btn-end" class="btn">End Day</button>
        <button id="btn-reset" class="btn btn-danger">Reset</button>
        <span class="hint">Autosaves locally. No crypto wallet required. You're welcome.</span>
      </div>
    </div>
  </header>

  <main class="layout">
    <section class="panel panel--left">
      <div class="panel__header">
        <h2>Market</h2>
        <div class="qty-picker">
          <label for="qty-global">Default Qty</label>
          <input id="qty-global" type="number" min="1" step="1" value="10" />
        </div>
      </div>

      <div class="table-wrap">
        <table class="table" aria-label="Market table">
          <thead>
            <tr>
              <th>Ticker</th>
              <th>Name</th>
              <th class="num">Price</th>
              <th class="num">Î”%</th>
              <th class="num">Position</th>
              <th class="num">Unrl. P&amp;L</th>
              <th class="num">Actions</th>
            </tr>
          </thead>
          <tbody id="market-body">
            <!-- rows inserted by JS -->
          </tbody>
        </table>
      </div>
    </section>

    <aside class="panel panel--right">
      <h2 id="detail-title">Details</h2>

      <div class="detail-card">
        <div class="detail-line">
          <span>Asset</span>
          <strong id="detail-asset">â€”</strong>
        </div>
        <div class="detail-line">
          <span>Price</span>
          <strong id="detail-price">â€”</strong>
        </div>
        <div class="detail-line">
          <span>Your Position</span>
          <strong id="detail-position">â€”</strong>
        </div>

        <div class="effects">
          <div class="effects__title">Active Effects</div>
          <ul id="effects-list" class="effects__list"></ul>
        </div>

        <canvas id="chart" width="560" height="240" aria-label="Price chart"></canvas>

        <div class="trade-controls">
          <label for="trade-qty">Qty</label>
          <input id="trade-qty" type="number" min="1" step="1" value="10" />
          <button id="btn-buy" class="btn btn-primary">Buy</button>
          <button id="btn-sell" class="btn">Sell</button>
        </div>

        <div id="messages" class="messages" aria-live="polite"></div>
      </div>
    </aside>

    <section class="panel panel--feed">
      <div class="panel__header">
        <h2>News Feed</h2>
        <span class="hint">Events apply temporary market effects. Because vibes move prices.</span>
      </div>
      <ul id="feed" class="feed" aria-live="polite"></ul>
    </section>
    
    <!-- Insider banner -->
    <div id="insider-banner" class="hidden"></div>
    
    <!-- Upgrade Shop -->
    <section id="panel-upgrades">
      <h3>Upgrades</h3>
      <div id="upgrades"></div>
    </section>

  </main>

  <footer class="app-footer">
    <p>Prototype v0.1. Prices are simulated. If you lose money here, thatâ€™s on your decision-making, not the physics engine.</p>
  </footer>

  <script src="js/main.js"></script>
  <script type="module" src="./js/core/upgrades.js"></script>
  <script type="module" src="./js/core/margin.js"></script>
  <script type="module" src="./js/core/insider.js"></script>
  <script type="module" src="./js/ui/upgrades.js"></script>
  <script type="module" src="./js/ui/insiderBanner.js"></script>
</body>
</html>
