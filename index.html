<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>To‑The‑Moon Trading Sim</title>

  <!-- Relative paths so GitHub Pages works under /To-The-Moon-Trading-Sim/ -->
  <link rel="preload" href="src/css/main.css" as="style" />
  <link rel="stylesheet" href="src/css/main.css" />

  <meta name="color-scheme" content="dark light">
</head>
<body>
  <header class="wrap">
    <h1>To‑The‑Moon v6 <span class="chip">modular</span> <span class="chip">summary</span> <span class="chip">auto‑risk</span></h1>

    <section id="hud" class="hud">
      <div class="hud-row">
        <div class="hud-item"><strong>Day</strong> <span id="hud-day">0</span> • <span id="hud-time">—s</span></div>
        <div class="hud-item"><strong>Cash</strong> <span id="hud-cash">$0.00</span></div>
        <div class="hud-item"><strong>Debt</strong> <span id="hud-debt">$0.00</span></div>
        <div class="hud-item"><strong>Assets</strong> <span id="hud-assets">$0.00</span></div>
        <div class="hud-item"><strong>Net</strong> <span id="hud-net">$0.00</span></div>
        <div class="hud-item"><strong>Risk</strong> <span id="hud-risk">0%</span></div>
      </div>
      <div class="hud-row">
        <div class="hud-item small">10‑second days • After‑hours news drives tomorrow</div>
        <div class="hud-actions">
          <button id="btn-start" class="btn">▶ Start Day</button>
          <button id="btn-save" class="btn">Save</button>
          <button id="btn-help" class="btn secondary">Help</button>
          <button id="btn-contrast" class="btn secondary">Contrast</button>
          <button id="btn-hard-reset" class="btn danger">Hard Reset</button>
        </div>
      </div>
    </section>
  </header>

  <main class="wrap">
    <section class="panel">
      <header class="panel-head">
        <h2>Assets</h2>
        <div class="legend">
          <span class="legend-item up">▲ = up</span>
          <span class="legend-item down">▼ = down</span>
          <span class="legend-item">Prev close = dashed</span>
          <span class="legend-item">Boundaries = day ends</span>
        </div>
      </header>
      <div class="table-scroll">
        <table id="assets-table" class="grid">
          <thead>
            <tr>
              <th>Asset</th>
              <th class="num">Price</th>
              <th class="num">Δ</th>
              <th>Analyst</th>
              <th class="num">Holdings</th>
              <th class="num">Value</th>
              <th>Trade</th>
            </tr>
          </thead>
          <tbody id="assets-body"></tbody>
        </table>
      </div>
    </section>

    <section class="panel">
      <header class="panel-head">
        <h2>Chart</h2>
        <div>
          <label for="chart-type">Type:</label>
          <select id="chart-type">
            <option value="candles" selected>Candles</option>
            <option value="line">Line</option>
          </select>
        </div>
      </header>
      <canvas id="price-chart" height="220"></canvas>
    </section>

    <section class="grid-2">
      <section class="panel">
        <header class="panel-head"><h2>News &amp; Events</h2></header>
        <div id="news-feed" class="news">
          <em>Follow the selected asset</em>
          <div class="news-item neg"><strong>Major Collapse</strong> · Sector contagion risk elevated.</div>
        </div>
      </section>

      <section class="panel">
        <header class="panel-head"><h2>Asset Insight</h2></header>
        <div id="asset-insight" class="insight">
          <div>Tomorrow (<span title="mu">μ</span> ± <span title="sigma">σ</span>) • expected gap • recent news</div>
        </div>
      </section>
    </section>
  </main>

  <!-- End-of-day summary modal -->
  <dialog id="eod-modal">
    <form method="dialog" class="modal">
      <h3>End of Day <span id="eod-day"></span></h3>
      <p><strong>Net change:</strong> <span id="eod-net-change"></span></p>
      <p><strong>Best:</strong> <span id="eod-best"></span></p>
      <p><strong>Worst:</strong> <span id="eod-worst"></span></p>
      <menu>
        <button value="close" class="btn">Close</button>
      </menu>
    </form>
  </dialog>

  <!-- Main app script; relative path; ES module -->
  <script type="module" src="src/js/app.js" defer></script>
</body>
</html>
